# Vue æ¨¡æ¿è¯­æ³•

## 1.æ’å€¼

### æ–‡æœ¬

```js
<span>Message: {{ msg }}</span>

 let vm = new Vue({
        el:"#app",// å—åˆ°æ§åˆ¶çš„å…ƒç´ 
        data:{
            msg:"ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘"
        }
    })
```

### çº¯  HTML

```html
<span v-html="rawHtml"></span>
    let vm = new Vue({
        el:"#app",// å—åˆ°æ§åˆ¶çš„å…ƒç´ 
        data:{
            rawHtml:"<span style='color:red'>çº¢è‰²çš„å†…å®¹</span>"
        }
    })
```

> Â å¦‚ä½•é˜²æ­¢ XSS(è·¨ç«™è„šæœ¬æ”»å‡»),XSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )
>
> - å‰ç«¯è¿‡æ»¤
> - åå°è½¬ä¹‰
> - [ç»™cookie åŠ ä¸Š Secure å’Œ HttpOnly æ ‡è®°](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies),è¿™æ ·é€šè¿‡JavaScriptçš„ [`Document.cookie`](https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie) APIæ— æ³•è®¿é—®å¸¦æœ‰ `HttpOnly` æ ‡è®°çš„Cookieï¼Œå®ƒä»¬åªåº”è¯¥å‘é€ç»™æœåŠ¡ç«¯
>
> ```html
> Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; Secure; HttpOnly
> ```

### ä½¿ç”¨Javascriptè¡¨è¾¾å¼

```html
{{ number + 1 }}

{{ ok ? 'YES' : 'NO' }}

{{ message.split('').reverse().join('') }}
```

`ï¼ï¼ï¼ä»¥ä¸‹è¯­å¥ä¸ä¼šç”Ÿæ•ˆ`

```html
<!-- è¿™æ˜¯è¯­å¥ï¼Œä¸æ˜¯è¡¨è¾¾å¼ -->
{{ var a = 1 }}

<!-- æµæ§åˆ¶ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œè¯·ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ -->
<!--  {{ if (ok) { return message } }}  -->
```

## æŒ‡ä»¤

æŒ‡ä»¤ (Directives) æ˜¯å¸¦æœ‰ `v-` å‰ç¼€çš„ç‰¹æ®Š attributeã€‚æŒ‡ä»¤ attribute çš„å€¼é¢„æœŸæ˜¯**å•ä¸ª JavaScript è¡¨è¾¾å¼** (`v-for` æ˜¯ä¾‹å¤–æƒ…å†µ)ã€‚æŒ‡ä»¤çš„èŒè´£æ˜¯ï¼Œå½“è¡¨è¾¾å¼çš„å€¼æ”¹å˜æ—¶ï¼Œå°†å…¶äº§ç”Ÿçš„è¿å¸¦å½±å“ï¼Œå“åº”å¼åœ°ä½œç”¨äº DOMã€‚

### v-bind

åŠ¨æ€åœ°ç»‘å®šä¸€ä¸ªæˆ–å¤šä¸ª attributeï¼Œæˆ–ä¸€ä¸ªç»„ä»¶ prop åˆ°è¡¨è¾¾å¼ã€‚

> **ç¼©å†™**: `:`

```html
<!-- ç»‘å®šä¸€ä¸ª attribute -->
<img v-bind:src="imageSrc">

<!-- åŠ¨æ€ attribute å (2.6.0+) -->
<button v-bind:[key]="value"></button>

<!-- ç¼©å†™ -->
<img :src="imageSrc">

<!-- åŠ¨æ€ attribute åç¼©å†™ (2.6.0+) -->
<button :[key]="value"></button>

<!-- å†…è”å­—ç¬¦ä¸²æ‹¼æ¥ -->
<img :src="'/path/to/images/' + fileName">
```

<div v-bind="{ id: someProp, 'other-attr': otherProp }"></div>
### v-if

æ ¹æ®è¡¨è¾¾å¼çš„å€¼çš„ [truthiness](https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy) æ¥æœ‰æ¡ä»¶åœ°æ¸²æŸ“å…ƒç´ ã€‚åœ¨åˆ‡æ¢æ—¶å…ƒç´ åŠå®ƒçš„æ•°æ®ç»‘å®š / ç»„ä»¶è¢«é”€æ¯å¹¶é‡å»ºã€‚

> åœ¨ [JavaScript](https://developer.mozilla.org/en-US/docs/Glossary/JavaScript) ä¸­ï¼Œ**truthy**ï¼ˆçœŸå€¼ï¼‰æŒ‡çš„æ˜¯åœ¨[å¸ƒå°”å€¼](https://developer.mozilla.org/en-US/docs/Glossary/Boolean)ä¸Šä¸‹æ–‡ä¸­ï¼Œè½¬æ¢åçš„å€¼ä¸ºçœŸçš„å€¼ã€‚æ‰€æœ‰å€¼éƒ½æ˜¯çœŸå€¼ï¼Œé™¤éå®ƒä»¬è¢«å®šä¹‰ä¸º [å‡å€¼](https://developer.mozilla.org/en-US/docs/Glossary/Falsy)ï¼ˆå³é™¤ `false`ã€`0`ã€`""`ã€`null`ã€`undefined` å’Œ `NaN` ä»¥å¤–çš†ä¸ºçœŸå€¼ï¼‰ã€‚

> å½“å’Œ `v-if` ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œ`v-for` çš„ä¼˜å…ˆçº§æ¯” `v-if` æ›´é«˜ã€‚

> template v-if ,åŒ…è£…å…ƒç´ template ä¸ä¼šè¢«åˆ›å»º 

### [v-else](https://cn.vuejs.org/v2/api/#v-else)

ä¸éœ€è¦è¡¨è¾¾å¼,å‰ä¸€å…„å¼Ÿå…ƒç´ å¿…é¡»æœ‰ `v-if` æˆ– `v-else-if`ã€‚

```html
<div v-if="Math.random()>0.5">
  ä½ å¯ä»¥çœ‹åˆ°æˆ‘äº†
</div>
<div v-else>
  çœ‹ä¸åˆ°çœ‹ä¸åˆ°
</div>
```

### [v-else-if](https://cn.vuejs.org/v2/api/#v-else-if)

```html
<div v-if="type === 'A'">
  A
</div>
<div v-else-if="type === 'B'">
  B
</div>
<div v-else-if="type === 'C'">
  C
</div>
<div v-else>
  Not A/B/C
</div>
```

### v-show

æ ¹æ®è¡¨è¾¾å¼ä¹‹çœŸå‡å€¼ï¼Œåˆ‡æ¢å…ƒç´ çš„ `display` CSS propertyã€‚å…ƒç´ è¿˜åœ¨ï¼Œåªæ˜¯çœ‹ä¸è§è€Œå·²ã€‚

### v-on

> ç¼©å†™ï¼š@
>
> ç»‘å®šäº‹ä»¶ç›‘å¬å™¨ã€‚äº‹ä»¶ç±»å‹ç”±å‚æ•°æŒ‡å®šã€‚è¡¨è¾¾å¼å¯ä»¥æ˜¯ä¸€ä¸ªæ–¹æ³•çš„åå­—æˆ–ä¸€ä¸ªå†…è”è¯­å¥ï¼Œå¦‚æœæ²¡æœ‰ä¿®é¥°ç¬¦ä¹Ÿå¯ä»¥çœç•¥ã€‚
>
> ç”¨åœ¨æ™®é€šå…ƒç´ ä¸Šæ—¶ï¼Œåªèƒ½ç›‘å¬[**åŸç”Ÿ DOM äº‹ä»¶**](https://developer.mozilla.org/zh-CN/docs/Web/Events)ã€‚ç”¨åœ¨è‡ªå®šä¹‰å…ƒç´ ç»„ä»¶ä¸Šæ—¶ï¼Œä¹Ÿå¯ä»¥ç›‘å¬å­ç»„ä»¶è§¦å‘çš„**è‡ªå®šä¹‰äº‹ä»¶**ã€‚

```html
<!-- æ–¹æ³•å¤„ç†å™¨ -->
<button v-on:click="doThis"></button>

<!-- åŠ¨æ€äº‹ä»¶ (2.6.0+) -->
<button v-on:[event]="doThis"></button>

<!-- å†…è”è¯­å¥ -->
<button v-on:click="doThat('hello', $event)"></button>

<!-- ç¼©å†™ -->
<button @click="doThis"></button>

<!-- åŠ¨æ€äº‹ä»¶ç¼©å†™ (2.6.0+) -->
<button @[event]="doThis"></button>
```

### v-for

åŸºäºæºæ•°æ®å¤šæ¬¡æ¸²æŸ“å…ƒç´ æˆ–æ¨¡æ¿å—ã€‚æ­¤æŒ‡ä»¤ä¹‹å€¼ï¼Œå¿…é¡»ä½¿ç”¨ç‰¹å®šè¯­æ³• `alias in expression`ï¼Œä¸ºå½“å‰éå†çš„å…ƒç´ æä¾›åˆ«åï¼š

(1)v-for (ç‰¹æ®Š v-for=â€n in 10â€) 

- in (for in)
- of (for of)

//æ²¡æœ‰åŒºåˆ«

(2)keyï¼š

è·Ÿè¸ªæ¯ä¸ªèŠ‚ç‚¹çš„èº«ä»½ï¼Œä»è€Œé‡ç”¨å’Œé‡æ–°æ’åºç°æœ‰å…ƒç´  

ç†æƒ³çš„ key å€¼æ˜¯æ¯é¡¹éƒ½æœ‰çš„ä¸”å”¯ä¸€çš„ idã€‚data.id 

(3)æ•°ç»„æ›´æ–°æ£€æµ‹ 

a. ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ“ä½œæ•°ç»„ï¼Œå¯ä»¥æ£€æµ‹å˜åŠ¨ 

â€‹	push() pop() shift() unshift() splice() sort() reverse() 

b. filter(), concat() å’Œ slice() ,map(),æ–°æ•°ç»„æ›¿æ¢æ—§æ•°ç»„ 

c. ä¸èƒ½æ£€æµ‹ä»¥ä¸‹å˜åŠ¨çš„æ•°ç»„ 

`vm.items[indexOfItem] = newValue `

è§£å†³æ–¹æ³•

 (1) [Vue.set( target, propertyName/index, value )](https://cn.vuejs.org/v2/api/#Vue-set)

 (2) splice 

```html
<div v-for="item in items">
  {{ item.text }}
</div>
```

```html
<div v-for="item in items" :key="item.id">
  {{ item.text }}
</div>
<div v-for="(item, index) in items"></div>
<div v-for="(val, key) in object"></div>
<div v-for="(val, name, index) in object"></div>
```

### v-model

åœ¨è¡¨å•æ§ä»¶æˆ–è€…ç»„ä»¶ä¸Šåˆ›å»ºåŒå‘ç»‘å®šã€‚

æ–‡æœ¬

```html
<input v-model="message" placeholder="edit me">
<p>Message is: {{ message }}</p>
```

å¤šè¡Œæ–‡æœ¬

```html
<span>å¤šè¡Œæ–‡æœ¬ä¿¡æ¯æ˜¯:</span>
<>{{ message }}</p>
<br>
<textarea v-model="message" placeholder="æ·»åŠ å¤šè¡Œæ–‡æœ¬"></textarea>
```

å¤é€‰æ¡†

å•ä¸ªå¤é€‰æ¡†

```html
<input type="checkbox" id="checkbox" v-model="checked">
<label for="checkbox">{{ checked }}</label>
```

å¤šä¸ªå¤é€‰æ¡†Â ç»‘å®šåˆ°åŒä¸€ä¸ªæ•°ç»„

```html
<input type="checkbox" id="jack" value="Jack" v-model="checkedNames">
<label for="jack">Jack</label>
<input type="checkbox" id="john" value="John" v-model="checkedNames">
<label for="john">John</label>
<input type="checkbox" id="mike" value="Mike" v-model="checkedNames">
<label for="mike">Mike</label>
<br>
<span>Checked names: {{ checkedNames }}</span>
```

å•é€‰æŒ‰é’®

```html
<div id="example-4">
  <input type="radio" id="one" value="One" v-model="picked">
  <label for="one">One</label>
  <br>
  <input type="radio" id="two" value="Two" v-model="picked">
  <label for="two">Two</label>
  <br>
  <span>Picked: {{ picked }}</span>
</div>
```

é€‰æ‹©æ¡†

å•é€‰æ—¶

```html
<div id="example-5">
  <select v-model="selected">
    <option disabled value="">è¯·é€‰æ‹©</option>
    <option>A</option>
    <option>B</option>
    <option>C</option>
  </select>
  <span>Selected: {{ selected }}</span>
</div>
```

> å¦‚æœ `v-model` è¡¨è¾¾å¼çš„åˆå§‹å€¼æœªèƒ½åŒ¹é…ä»»ä½•é€‰é¡¹ï¼Œå…ƒç´ å°†è¢«æ¸²æŸ“ä¸ºâ€œæœªé€‰ä¸­â€çŠ¶æ€ã€‚åœ¨ iOS ä¸­ï¼Œè¿™ä¼šä½¿ç”¨æˆ·æ— æ³•é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹ã€‚å› ä¸ºè¿™æ ·çš„æƒ…å†µä¸‹ï¼ŒiOS ä¸ä¼šè§¦å‘ change äº‹ä»¶ã€‚å› æ­¤ï¼Œæ›´æ¨èåƒä¸Šé¢è¿™æ ·æä¾›ä¸€ä¸ªå€¼ä¸ºç©ºçš„ç¦ç”¨é€‰é¡¹ã€‚

å¤šé€‰æ—¶

```html
<div id="example-6">
  <select v-model="selected" multiple style="width: 50px;">
    <option>A</option>
    <option>B</option>
    <option>C</option>
  </select>
  <br>
  <span>Selected: {{ selected }}</span>
</div>
new Vue({
  el: '#example-6',
  data: {
    selected: []
  }
})
```

### v-text

æ›´æ–°å…ƒç´ çš„ `textContent`ã€‚

```html
<span v-text="msg"></span>
<!-- å’Œä¸‹é¢çš„ä¸€æ · -->
<span>{{msg}}</span>
```

### v-html

æ›´æ–°å…ƒç´ çš„ `innerHTML`

```html
<div v-html="html"></div>
```

### v-slot

æä¾›å…·åæ’æ§½æˆ–éœ€è¦æ¥æ”¶ prop çš„æ’æ§½ã€‚

### v-pre

è·³è¿‡è¿™ä¸ªå…ƒç´ å’Œå®ƒçš„å­å…ƒç´ çš„ç¼–è¯‘è¿‡ç¨‹ã€‚å¯ä»¥ç”¨æ¥æ˜¾ç¤ºåŸå§‹ Mustache æ ‡ç­¾ã€‚è·³è¿‡å¤§é‡æ²¡æœ‰æŒ‡ä»¤çš„èŠ‚ç‚¹ä¼šåŠ å¿«ç¼–è¯‘ã€‚

```html
<span v-pre>{{ this will not be compiled }}</span>
```

### v-cloak

è¿™ä¸ªæŒ‡ä»¤ä¿æŒåœ¨å…ƒç´ ä¸Šç›´åˆ°å…³è”å®ä¾‹ç»“æŸç¼–è¯‘ã€‚å’Œ CSS è§„åˆ™å¦‚ `[v-cloak] { display: none }` ä¸€èµ·ç”¨æ—¶ï¼Œè¿™ä¸ªæŒ‡ä»¤å¯ä»¥éšè—æœªç¼–è¯‘çš„ Mustache æ ‡ç­¾ç›´åˆ°å®ä¾‹å‡†å¤‡å®Œæ¯•ã€‚

```html
[v-cloak] {
  display: none;
}
<div v-cloak>
  {{ message }}
</div>
```

ä¸ä¼šæ˜¾ç¤ºï¼Œç›´åˆ°ç¼–è¯‘ç»“æŸã€‚

### v-once

åªæ¸²æŸ“å…ƒç´ å’Œç»„ä»¶**ä¸€æ¬¡**ã€‚éšåçš„é‡æ–°æ¸²æŸ“ï¼Œå…ƒç´ /ç»„ä»¶åŠå…¶æ‰€æœ‰çš„å­èŠ‚ç‚¹å°†è¢«è§†ä¸ºé™æ€å†…å®¹å¹¶è·³è¿‡ã€‚è¿™å¯ä»¥ç”¨äºä¼˜åŒ–æ›´æ–°æ€§èƒ½ã€‚

```html
<!-- å•ä¸ªå…ƒç´  -->
<span v-once>This will never change: {{msg}}</span>
<!-- æœ‰å­å…ƒç´  -->
<div v-once>
  <h1>comment</h1>
  <p>{{msg}}</p>
</div>
<!-- `v-for` æŒ‡ä»¤-->
<ul>
  <li v-for="i in list" v-once>{{i}}</li>
</ul>
```

## Class ä¸ style

1. ç»‘å®šHTML Class 

- å¯¹è±¡è¯­æ³• 

  ```html
  <div :class="{ red: isRed }"></div>
  ```

- æ•°ç»„è¯­æ³• 

  ```html
  <div :class="[classA, classB]"></div>
  <div :class="[classA, { classB: isB, classC: isC }]">
  ```

2. ç»‘å®šå†…è”æ ·å¼ 

- å¯¹è±¡è¯­æ³• 

```html
<div :style="{ fontSize: size + 'px' }"></div>
```

- æ•°ç»„è¯­æ³• 

```html
<div :style="[styleObjectA, styleObjectB]"></div>
```

//éœ€è¦å°† font-size =>fontSize 

